# 客户管理页面

## 功能概述

客户管理页面提供了完整的客户信息管理功能，包括客户的增删改查操作。

## 主要功能

### 1. 客户列表展示
- 显示所有客户信息，包括：
  - 姓名
  - 手机号
  - 身份证号
  - 性别（男/女）
  - 地址
  - 创建时间
- 支持表格排序和数据加载状态显示

### 2. 搜索功能
- **姓名模糊搜索**：输入姓名关键字进行模糊匹配查询
- **手机号精确搜索**：输入完整手机号进行精确查询
- 支持重置搜索条件

### 3. 分页功能
- 支持自定义每页显示条数（10/20/50/100）
- 显示总记录数
- 支持页码跳转

### 4. 新增客户
- 必填字段：
  - 姓名
  - 手机号（11位，1开头）
  - 身份证号（18位标准格式）
- 可选字段：
  - 性别（男/女）
  - 地址
- 表单验证：
  - 手机号格式验证
  - 身份证号格式验证

### 5. 编辑客户
- 支持修改客户的所有信息
- 保持与新增相同的验证规则

### 6. 删除客户
- 删除前弹出确认对话框
- 如果客户有关联订单，后端会阻止删除并返回错误信息

## API 接口

### 查询客户列表
```
GET /api/customers
参数：
  - name: 姓名（模糊搜索）
  - phone: 手机号（精确搜索）
  - current: 当前页码
  - size: 每页条数
```

### 创建客户
```
POST /api/customers
请求体：
  - name: 姓名
  - phone: 手机号
  - idCard: 身份证号
  - gender: 性别（M/F）
  - address: 地址
```

### 更新客户
```
PUT /api/customers/{id}
请求体：同创建客户
```

### 删除客户
```
DELETE /api/customers/{id}
```

## 数据验证

### 前端验证
- 姓名：必填
- 手机号：必填，格式为 1[3-9]开头的11位数字
- 身份证号：必填，18位标准格式（17位数字 + 1位数字或X）

### 后端验证
- 手机号唯一性检查
- 身份证号唯一性检查
- 客户删除前检查是否有关联订单

## 需求映射

- **需求 3.5**：客户姓名模糊搜索 ✅
- **需求 3.6**：客户手机号精确搜索 ✅
- **需求 3.1-3.8**：完整的客户 CRUD 功能 ✅

## 技术实现

- **框架**：Vue 3 + TypeScript
- **UI 组件**：Element Plus
- **状态管理**：Vue Composition API
- **HTTP 请求**：Axios
- **表单验证**：Element Plus Form Validation
